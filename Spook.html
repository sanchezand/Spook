<html>
	<head>
		<title>Spook</title>
		<script src="spook.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.6/ace.js" integrity="sha256-CVkji/u32aj2TeC+D13f7scFSIfphw2pmu4LaKWMSY8=" crossorigin="anonymous"></script>
	</head>

	<style>
		.body{
			max-width: 800px;
			margin: auto;
			width: 100%;
		}
		.body button{
			height: 40px;
		}
		.body .valid{
			background-color: #4CAF50;
			padding: 20px;
			text-align: center;
		}
		.body .invalid{
			background-color: #c41f1f;
			padding: 20px;
			text-align: center;
		}
		#editor { 
			width: 100%;
			height: 400px;
		}
	</style>
	<body>
		<div class="body">
			<div id="editor">def test : decimal[3]
test[0] = 32
test[2] = test[0]
test[1] = test[0]-20

def A,B,C : decimal
B = 30
A = 21
C = A+B-(test[1] - test[0])</div>
			<br>
			<pre id="result"></pre>
			<button onclick="parseLanguage()" style="width: 100%">
				Parse
			</button>
		</div>
	</body>
	<script>
		var editor = ace.edit("editor");
		editor.setTheme("ace/theme/monokai");

		function parseLanguage(){
			var code = editor.getValue();
			try{
				var res = spook.parse(code);
				console.log(res);
				document.getElementById('result').innerText = 'Variables Globales: \n' + JSON.stringify(res, null, 4);
			}catch(e){
				document.getElementById('result').innerText = 'CÃ³digo invalido';
				console.log(e)
			}
		}
	</script>
</html>