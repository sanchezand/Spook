<html>
	<head>
		<title>Spook</title>
		<script src="spook.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.6/ace.js" integrity="sha256-CVkji/u32aj2TeC+D13f7scFSIfphw2pmu4LaKWMSY8=" crossorigin="anonymous"></script>
	</head>

	<style>
		.body{
			max-width: 800px;
			margin: auto;
			width: 100%;
		}
		.body button{
			height: 40px;
		}
		.body .valid{
			background-color: #4CAF50;
			padding: 20px;
			text-align: center;
		}
		.body .invalid{
			background-color: #c41f1f;
			padding: 20px;
			text-align: center;
		}
		#editor { 
			width: 100%;
			height: 400px;
		}
	</style>
	<body>
		<div class="body">
			<div id="editor">def A,B,C,D,E : decimal
A = B + C
repeat A>B*C do
	A = B-C
	B = B+E
end
C = A + B
</div>
			<br>
			<pre id="result"></pre>
			<button onclick="parseLanguage()" style="width: 100%">
				Parse
			</button>
		</div>
	</body>
	<script>
		var editor = ace.edit("editor");
		editor.setTheme("ace/theme/monokai");

		function parseLanguage(){
			var code = editor.getValue();
			try{
				var res = spook.parse(code);
				console.log(res);
				var pretty = "";
				for(var i of res){
					pretty += i[0]+','+i[1]+','+i[2]+','+i[3]+'\n';
				}
				document.getElementById('result').innerText = 'CUADRUPLOS: \n' + pretty+'\n';
			}catch(e){
				document.getElementById('result').innerText = 'CÃ³digo invalido';
				console.log(e)
			}
		}
	</script>
</html>